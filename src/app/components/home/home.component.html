<body>
  <div class="fixed-top">
    <div class="row" style="margin-top: 0.1%; margin-left: 0.5%; margin-right: 0">
      <div class="card card-body mb-3 rounded-0" style="border-color: transparent; height: 7.9rem; background-image: url(../../assets/sfondo_navbar.png); background-position: left; background-size: 100%; background-repeat: no-repeat" >
      </div>
    </div>
  </div>
  <div class="row" style="margin-top: 8.5rem; margin-left: 0.5%; margin-right: 0">
      <div class="col-md-3" style="padding: 0;">
        <div class="card card-body mb-3 card1" style="border-color: transparent; box-shadow: 10px 10px 5px #aaaaaa; height: 96%;" >
          <form>
            <div class="row">
              <div class="col-md-10" style="padding:0; margin-left: 4%">
                <input type="text" class="form-control form-control-sm" placeholder="Inserisci un indirizzo" #address > 
              </div>
              <div class="col-md-1"  style="padding:0;  text-align: center;">
                <button type="button" style="border-color: transparent; background-color: transparent;" (click)="search(address.value)"><span class="fa fa-search" style="text-align: center"></span></button>
              </div>
            </div>
          </form>
          <div *ngIf="!details" class="row" style="margin-top: 5%">
            <p *ngIf="searchAddress" style = "margin-left: 4%">Risultati per <b>{{searchAddress}}</b>:</p>
            <p *ngIf="emptyresults"style = "margin-left: 4%">Non ci sono risultati</p>
            <div *ngFor="let res of searchResults" class="card card-body mb-3 mycard" style="border-color: lightgrey; box-shadow: 5px 5px 5px #aaaaaa;" >
              <a (click)="zoomIn(res.display_name,res.lat, res.lon)" style="cursor: pointer;">{{res.display_name}}</a>
            </div>
          </div>
          <div *ngIf="details" class="row" style="margin-top: 5%">
            <button type="button" class="btn" (click)="back()" style="background-color: lightgray">Indietro</button>
            <div class="card card-body mb-3" style="border-color: lightgrey; box-shadow: 10px 10px 5px #aaaaaa; margin-top: 2%" >
              <h5><b>{{result.display_name}}</b></h5>
              <p><br> {{result.lat}}° , {{result.lon}}°</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-9" style="padding-bottom: 0;  padding-right: 0.3%;">
        <div class="card card-body mb-3" style="border-color: lightgrey; box-shadow: 5px 5px 5px #aaaaaa; padding: 0; margin-right: 0" >
          <div id="map" class="map"></div>
        </div>
      </div>
    </div>
    <div class="row" style="margin-top: 1%; margin-left: 0.5%; margin-right: 0.3%">
      <div class="card card-body mb-3" style="border-color: lightgrey; box-shadow: 10px 10px 5px #aaaaaa; height: 100%" >
        <div class="row">
        <div class="col-md-6" style="padding: 0; text-align: center">
            <h2>Qual è il livello di esposizione medio?</h2>
              <svg class="pie-chart"></svg>
              <div><div class="foo green"></div>Basso</div>
              <div><div class="foo yellow"></div>Medio</div>
              <div><div class="foo red"></div>Alto</div>
          </div>
          <div class="col-md-6" style="padding: 0; text-align: center">
              <h2>Come varia la potenza irradiata a Lecce durante la giornata?</h2>
              <svg id="linechart" class="line-chart"></svg>
          </div>  
        </div>  
        <div class="row">
          <h2>Qual è il gestore telefonico che inquina di più?</h2>
          <svg id="barchart" class="bar-chart" style="fill: blue"></svg>
        </div>
      </div>
    </div>
</body>
